<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>
    <div class="panel">
        <button class="panel__button-inventory" onclick="inventory_opening()">
            Инвентарь
        </button>
        <div class="inventory"></div>

        <div class="panel__info">
            <div class="panel__info-score">
                очки:
                <span id="score">0</span>
            </div>
            <div class="panel__info-damage">
                сила удара:
                <span id="damage">0</span>
            </div>
        </div>

        <button class="panel__button-market" onclick="market_opening()">
            Магазин
        </button>
        <div class="market"></div>
    </div>
    <canvas id="canvas"></canvas>
    <div class="panel"></div>

</body>
<script>

</script>
<script src="js/script.js"></script>
<script src="js/object.js"></script>
<script src="js/objects/square.js"></script>
<script src="js/objects/circle.js"></script>
<script src="js/items/grenade.js"></script>
<script src="js/store.js"></script>
<script src="js/listener.js"></script>


<script src="js/canvas.js"></script>

<script>
    let ACTIVE_GAME = true;
    document.addEventListener("visibilitychange", function () {
        ACTIVE_GAME = !document.hidden
    });

    let mouse = { x: 0, y: 0 };
    const canvas = new Canvas({ width: CANVAS.width, height: CANVAS.height });
    canvas.start({ spawnObj: 1000, damage: 20, score: 0 });

    STORE.objects = [
        new Circle({
            x: 100,
            y: 100,
            xS: 1,
            yS: 1,
            r: 50,
            hover: false,
            value: 10,
        }),
        new Circle({
            x: 200,
            y: 200,
            xS: 2,
            yS: -1,
            r: 20,
            hover: false,
            value: 30,
            isParticle: false,
        }),
        new Square({
            x: 500,
            y: 200,
            xS: 1,
            yS: 1,
            r: 30,
            hover: false,
            value: 50,
        }),
    ]
    STORE.activeItem = [new Grenade()]



    /* мой код(Камиль) */

    const market = document.querySelector('.market');
    const market_active = document.querySelector('.market_active');
    const panel__button_market = document.querySelector('.panel__button-market');

    const inventory = document.querySelector('.inventory');
    const inventory_active = document.querySelector('.inventory_active');
    const panel__button_inventory = document.querySelector('.panel__button-inventory');

    let color_accent = 'rgb(179, 55, 207)';


    let ActiveMarket = false

    const market_opening = () => {
        ActiveMarket = !ActiveMarket;
        if (!ActiveMarket) market.setAttribute('class', 'market');
        else market.classList.add('market_active');
    };

    let ActiveInventory = false

    const inventory_opening = () => {
        ActiveInventory = !ActiveInventory;
        if (!ActiveInventory) inventory.setAttribute('class', 'inventory');
        else inventory.classList.add('inventory_active');
    }



    document.addEventListener('click', (a) => {
        const click_Market = a.composedPath().includes(market)
        const clickButton_Market = a.composedPath().includes(panel__button_market)
        if (!(click_Market || clickButton_Market)) {
            market.setAttribute('class', 'market')
        } else market.classList.add('market_active')

        const click_inventory = a.composedPath().includes(inventory)
        const clickButton_inventory = a.composedPath().includes(panel__button_inventory)
        if (!(click_inventory || clickButton_inventory)) {
            inventory.setAttribute('class', 'inventory')  /* тут */
        } else inventory.classList.add('inventory_active')
    })



</script>




</html>